---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# zFactor
Computational tools for chemical and petroleum engineers. Calculates the error between different correlations for gas compressibility.

## Motivation

The goal of rODE is to explore R and its S4 classes and the differences with Java and Python classes while exploring simulations by solving differential equations.


The correlations that are implemented in R for `zFactor` are:

* Beggs and Brill (BB)
* Hall and Yarborough (HY)
* Dranchuk and Abou-Kassem (DAK)
* Dranchuk, Purvis and Robnson (DPR)
* A correlation by Shell Oil Company (SH)
* A correlation developed with Artificial Neural Networks (Ann10) by Kamyab et al

Note. The Shell correlation was found cited in two books and two papers but the original paper or authors could not be found.


## Installation

You can install the latest version of `zFactor` from github with:

```{r gh-installation, eval = FALSE}
# install.packages("devtools")
devtools::install_github("f0nzie/zFactor")
```


Or from `CRAN`:

```{r eval=FALSE}
install.packages("zFactor")
```


## Examples
Example scripts are located under the folder `examples` inside the package.

These examples make use of a parent class containing a customized rate calculation as well as the step and startup method. The methods that you would commonly find in the base script or parent class are:

* getRate()
* getState()
* step() or doStep()
* setStepSize()
* init(), not the same as the class initialize method
* initialize(), and
* the constructor

These methods are defined in the virtual classes `ODE` and `ODESolver`. Two other classes that serve as definition classes for the ODE solvers are: `AbstractODESolver` and `ODEAdaptiveSolver`.

For instance, the application `KeplerApp.R` needs the class `Kepler` located in the `Kepler.R` script, which is called with `planet <- Kepler(r, v)`, an `ODE` object. The solver for the same application is `RK45` called with `solver <- RK45(planet)`. Since `RK45` is an ODE solver, the script `RK45.R` will be located in the folder `./R` in the package.


## Vignettes
The vignettes contain examples of the use of the various ODE solvers.
For instance, the notebook `Comparison` and ``Kepler` use the ODE solver `RK45`, `FallingParticle` and `Planet` use `Euler``, `Pendulum` makes use of `EulerRichardson`, `Planet` of `Euler`, `Projectile` and `Reaction` of `RK4`, and `KeplerEnergy` uses the ODE solver `Verlet`.

## Tests
There are tests for the core ODE solver classes under tests/testthat, as well as tests for the examples.

### Tests for the examples
The tests for the examples are two: one for the base/parent classes such as `Kepler` or `Planet` or `Projectile`; this test runner is called `run_tests_this_folder.R`. For the applications themselves there is another runner that opens each of the applications as request for a return value. If the hard coded value is not returned, the test will fail. This ensures that any minor change in the core solver classes do not have any impact on the application solutions, and if there is, it must be explained. The name of the test runner is `run_tes_applications.R`.



