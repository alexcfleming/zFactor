<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Vignette Author" />

<meta name="date" content="2017-06-25" />

<title>Hall-Yarborough correlation</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Hall-Yarborough correlation</h1>
<h4 class="author"><em>Vignette Author</em></h4>
<h4 class="date"><em>2017-06-25</em></h4>



<div id="how-do-we-find-the-limits-of-accuracy-in-the-hy-correlation" class="section level2">
<h2>How do we find the limits of accuracy in the HY correlation</h2>
</div>
<div id="get-z-at-selected-ppr-and-tpr" class="section level2">
<h2>Get <code>z</code> at selected <code>Ppr</code> and <code>Tpr</code></h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># get a z value using HY</span>
<span class="kw">library</span>(zFactor)

<span class="kw">z.HallYarborough</span>(<span class="dt">pres.pr =</span> <span class="fl">1.5</span>, <span class="dt">temp.pr =</span> <span class="fl">2.0</span>)</code></pre></div>
<pre><code>[1] 0.9580002</code></pre>
<p>From the Standing-Katz chart we obtain a digitized point:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># get a z value from the SK chart at the same Ppr and Tpr</span>
<span class="kw">library</span>(zFactor)

tpr_vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.0</span>)
<span class="kw">getStandingKatzMatrix</span>(<span class="dt">tpr_vector =</span> tpr_vec, 
                      <span class="dt">pprRange =</span> <span class="st">&quot;lp&quot;</span>)[<span class="dv">1</span>, <span class="st">&quot;1.5&quot;</span>]</code></pre></div>
<pre><code>  1.5 
0.956 </code></pre>
</div>
<div id="get-z-at-selected-ppr-and-tpr-1" class="section level2">
<h2>Get <code>z</code> at selected <code>Ppr</code> and <code>Tpr</code></h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(zFactor)

<span class="kw">z.HallYarborough</span>(<span class="dt">pres.pr =</span> <span class="fl">1.5</span>, <span class="dt">temp.pr =</span> <span class="fl">1.1</span>)</code></pre></div>
<pre><code>[1] 0.4732393</code></pre>
<p>From the Standing-Katz chart we obtain a digitized point:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(zFactor)

tpr_vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.1</span>)
<span class="kw">getStandingKatzMatrix</span>(<span class="dt">tpr_vector =</span> tpr_vec, 
                      <span class="dt">pprRange =</span> <span class="st">&quot;lp&quot;</span>)[<span class="dv">1</span>, <span class="st">&quot;1.5&quot;</span>]</code></pre></div>
<pre><code>  1.5 
0.426 </code></pre>
<blockquote>
<p>We perceive a noticeable difference between the values of z from the HY calculation and the value read from the Standing-Katz chart.</p>
</blockquote>
</div>
<div id="get-values-of-z-for-several-ppr-and-tpr" class="section level2">
<h2>Get values of <code>z</code> for several <code>Ppr</code> and <code>Tpr</code></h2>
<p>In this example we provide vectors instead of a single point.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(zFactor)

ppr &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">1.5</span>, <span class="fl">2.5</span>, <span class="fl">3.5</span>, <span class="fl">4.5</span>, <span class="fl">5.5</span>, <span class="fl">6.5</span>) 
tpr &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.3</span>, <span class="fl">1.5</span>, <span class="fl">1.7</span>, <span class="dv">2</span>) 

<span class="kw">z.HallYarborough</span>(ppr, tpr)</code></pre></div>
<pre><code>          0.5       1.5       2.5       3.5       4.5       5.5       6.5
1.3 0.9176300 0.7534433 0.6399020 0.6323003 0.6881127 0.7651710 0.8493794
1.5 0.9496855 0.8581232 0.7924067 0.7687902 0.7868071 0.8316848 0.8906351
1.7 0.9682547 0.9134862 0.8756412 0.8605668 0.8694525 0.8978885 0.9396353
2   0.9838234 0.9580002 0.9426939 0.9396286 0.9490995 0.9697839 0.9994317</code></pre>
<p>Which is equivalent to using the sapply function with the internal function <code>.z.HallYarborough</code>, which we call adding the prefix <code>zFactor:::</code>. That is, the package name and <strong>three</strong> dots.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># test HY with 1st-derivative using the values from paper </span>
 
ppr &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">1.5</span>, <span class="fl">2.5</span>, <span class="fl">3.5</span>, <span class="fl">4.5</span>, <span class="fl">5.5</span>, <span class="fl">6.5</span>) 
tpr &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.3</span>, <span class="fl">1.5</span>, <span class="fl">1.7</span>, <span class="dv">2</span>) 
 
hy &lt;-<span class="st"> </span><span class="kw">sapply</span>(ppr, function(x)  
    <span class="kw">sapply</span>(tpr, function(y) zFactor:::<span class="kw">.z.HallYarborough</span>(<span class="dt">pres.pr =</span> x, <span class="dt">temp.pr =</span> y))) 
 
<span class="kw">rownames</span>(hy) &lt;-<span class="st"> </span>tpr 
<span class="kw">colnames</span>(hy) &lt;-<span class="st"> </span>ppr 
<span class="kw">print</span>(hy) </code></pre></div>
<pre><code>          0.5       1.5       2.5       3.5       4.5       5.5       6.5
1.3 0.9176300 0.7534433 0.6399020 0.6323003 0.6881127 0.7651710 0.8493794
1.5 0.9496855 0.8581232 0.7924067 0.7687902 0.7868071 0.8316848 0.8906351
1.7 0.9682547 0.9134862 0.8756412 0.8605668 0.8694525 0.8978885 0.9396353
2   0.9838234 0.9580002 0.9426939 0.9396286 0.9490995 0.9697839 0.9994317</code></pre>
<p>With the same ppr and tpr vector, we do the same for the Standing-Katz chart:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(zFactor)

sk &lt;-<span class="st"> </span><span class="kw">getStandingKatzMatrix</span>(<span class="dt">ppr_vector =</span> ppr, <span class="dt">tpr_vector =</span> tpr)
sk</code></pre></div>
<pre><code>       0.5   1.5   2.5   3.5   4.5   5.5   6.5
1.30 0.916 0.756 0.638 0.633 0.684 0.759 0.844
1.50 0.948 0.859 0.794 0.770 0.790 0.836 0.892
1.70 0.968 0.914 0.876 0.857 0.864 0.897 0.942
2.00 0.982 0.956 0.941 0.937 0.945 0.969 1.003</code></pre>
<p>Subtract and find the difference:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">err &lt;-<span class="st"> </span><span class="kw">round</span>((sk -<span class="st"> </span>hy) /<span class="st"> </span>sk *<span class="st"> </span><span class="dv">100</span>, <span class="dv">2</span>)
err</code></pre></div>
<pre><code>       0.5   1.5   2.5   3.5   4.5   5.5   6.5
1.30 -0.18  0.34 -0.30  0.11 -0.60 -0.81 -0.64
1.50 -0.18  0.10  0.20  0.16  0.40  0.52  0.15
1.70 -0.03  0.06  0.04 -0.42 -0.63 -0.10  0.25
2.00 -0.19 -0.21 -0.18 -0.28 -0.43 -0.08  0.36</code></pre>
</div>
<div id="error-by-ppr-and-by-ppr" class="section level2">
<h2>Error by Ppr and by PPr</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(<span class="kw">colSums</span>(err))</code></pre></div>
<pre><code>  0.5   1.5   2.5   3.5   4.5   5.5   6.5 
-0.58  0.29 -0.24 -0.43 -1.26 -0.47  0.12 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(<span class="kw">rowSums</span>(err))</code></pre></div>
<pre><code> 1.30  1.50  1.70  2.00 
-2.08  1.35 -0.83 -1.01 </code></pre>
</div>
<div id="analyze-the-error-for-smaller-values-of-tpr" class="section level2">
<h2>Analyze the error for smaller values of <code>Tpr</code></h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(zFactor)

tpr2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.05</span>, <span class="fl">1.1</span>) 
ppr2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">1.5</span>, <span class="fl">2.5</span>, <span class="fl">3.5</span>, <span class="fl">4.5</span>, <span class="fl">5.5</span>) 


sk2 &lt;-<span class="st"> </span><span class="kw">getStandingKatzMatrix</span>(<span class="dt">ppr_vector =</span> ppr2, <span class="dt">tpr_vector =</span> tpr2, <span class="dt">pprRange =</span> <span class="st">&quot;lp&quot;</span>)
sk2</code></pre></div>
<pre><code>       0.5   1.5   2.5   3.5   4.5   5.5
1.05 0.829 0.253 0.343 0.471 0.598 0.727
1.10 0.854 0.426 0.393 0.500 0.615 0.729</code></pre>
<p>We do the same with the HY correlation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># calculate z values at lower values of Tpr</span>
<span class="kw">library</span>(zFactor)

tpr &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.05</span>, <span class="fl">1.1</span>)
ppr &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">1.5</span>, <span class="fl">2.5</span>, <span class="fl">3.5</span>, <span class="fl">4.5</span>, <span class="fl">5.5</span>) 

hy2 &lt;-<span class="st"> </span><span class="kw">z.HallYarborough</span>(<span class="dt">pres.pr =</span> ppr, <span class="dt">temp.pr =</span> tpr) 

<span class="kw">print</span>(hy2)</code></pre></div>
<pre><code>           0.5       1.5       2.5       3.5       4.5       5.5
1.05 0.8324659 0.3098781 0.3844710 0.4996188 0.6150882 0.7291019
1.1  0.8565046 0.4732393 0.4138513 0.5136995 0.6220391 0.7307972</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">err2 &lt;-<span class="st"> </span><span class="kw">round</span>((sk2 -<span class="st"> </span>hy2) /<span class="st"> </span>sk2 *<span class="st"> </span><span class="dv">100</span>, <span class="dv">2</span>)
err2</code></pre></div>
<pre><code>       0.5    1.5    2.5   3.5   4.5   5.5
1.05 -0.42 -22.48 -12.09 -6.08 -2.86 -0.29
1.10 -0.29 -11.09  -5.31 -2.74 -1.14 -0.25</code></pre>
<p>We can see that using Hall-Yarborough correlation shows a very high error at values of <code>Tpr</code> lower or equal than <code>1.1</code> being <code>Tpr=1.05</code> the worst curve to calculate z values from.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">t_err2 &lt;-<span class="st"> </span><span class="kw">t</span>(err2)
t_err2</code></pre></div>
<pre><code>      1.05   1.10
0.5  -0.42  -0.29
1.5 -22.48 -11.09
2.5 -12.09  -5.31
3.5  -6.08  -2.74
4.5  -2.86  -1.14
5.5  -0.29  -0.25</code></pre>
<p>Applying the function <code>summary</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sum_t_err2 &lt;-<span class="st"> </span><span class="kw">summary</span>(t_err2)
sum_t_err2</code></pre></div>
<pre><code>      1.05             1.10         
 Min.   :-22.48   Min.   :-11.0900  
 1st Qu.:-10.59   1st Qu.: -4.6675  
 Median : -4.47   Median : -1.9400  
 Mean   : -7.37   Mean   : -3.4700  
 3rd Qu.: -1.03   3rd Qu.: -0.5025  
 Max.   : -0.29   Max.   : -0.2500  </code></pre>
<p>We can see that the errors in <code>z</code> are considerable with a Min. :-22.48 % and Max. : -0.29 % for <code>Tpr=1.05</code>, and a Min. :-11.0900 % and Max. : -0.2500 % for <code>Tpr=1.10</code></p>
</div>
<div id="prepare-to-plot-sk-chart-values-vs-hy-correlation" class="section level2">
<h2>Prepare to plot <code>SK</code> chart values vs <code>HY</code> correlation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(zFactor)
<span class="kw">library</span>(tibble)

tpr2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.05</span>, <span class="fl">1.1</span>, <span class="fl">1.2</span>, <span class="fl">1.3</span>) 
ppr2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">1.0</span>, <span class="fl">1.5</span>, <span class="dv">2</span>, <span class="fl">2.5</span>, <span class="fl">3.0</span>, <span class="fl">3.5</span>, <span class="fl">4.0</span>, <span class="fl">4.5</span>, <span class="fl">5.0</span>, <span class="fl">5.5</span>, <span class="fl">6.0</span>, <span class="fl">6.5</span>) 

sk_hy_2 &lt;-<span class="st"> </span><span class="kw">createTidyFromMatrix</span>(ppr2, tpr2, <span class="dt">correlation =</span> <span class="st">&quot;HY&quot;</span>)
<span class="kw">as.tibble</span>(sk_hy_2)</code></pre></div>
<pre><code># A tibble: 52 x 5
     Tpr   Ppr z.chart    z.calc          dif
   &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt;
 1  1.05   0.5   0.829 0.8324659 -0.003465859
 2   1.1   0.5   0.854 0.8565046 -0.002504586
 3   1.2   0.5   0.893 0.8924176  0.000582438
 4   1.3   0.5   0.916 0.9176300 -0.001630042
 5  1.05   1.0   0.589 0.6023739 -0.013373916
 6   1.1   1.0   0.669 0.6816110 -0.012611042
 7   1.2   1.0   0.779 0.7761052  0.002894780
 8   1.3   1.0   0.835 0.8339593  0.001040688
 9  1.05   1.5   0.253 0.3098781 -0.056878063
10   1.1   1.5   0.426 0.4732393 -0.047239269
# ... with 42 more rows</code></pre>
<p>Plotting the difference between the z values in the Standing-Katz and the values calculated by Hall-Yarborough:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(sk_hy_2, <span class="kw">aes</span>(<span class="dt">x=</span>Ppr, <span class="dt">y=</span>z.calc, <span class="dt">group=</span>Tpr, <span class="dt">color=</span>Tpr)) +
<span class="st">    </span><span class="kw">geom_line</span>() +
<span class="st">    </span><span class="kw">geom_point</span>() +
<span class="st">    </span><span class="kw">geom_errorbar</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span>z.calc-dif, <span class="dt">ymax=</span>z.calc+dif), <span class="dt">width=</span>.<span class="dv">4</span>,
                  <span class="dt">position=</span><span class="kw">position_dodge</span>(<span class="fl">0.05</span>))
<span class="kw">print</span>(p)</code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="analyzing-the-error-for-all-the-tpr-curves" class="section level2">
<h2>Analyzing the error for all the <code>Tpr</code> curves</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(tibble)

<span class="co"># get all `lp` Tpr curves</span>
tpr_all &lt;-<span class="st"> </span><span class="kw">getCurvesDigitized</span>(<span class="dt">pprRange =</span> <span class="st">&quot;lp&quot;</span>)
ppr &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">1.5</span>, <span class="fl">2.5</span>, <span class="fl">3.5</span>, <span class="fl">4.5</span>, <span class="fl">5.5</span>, <span class="fl">6.5</span>) 
sk_hy_all &lt;-<span class="st"> </span><span class="kw">createTidyFromMatrix</span>(ppr, tpr_all, <span class="dt">correlation =</span> <span class="st">&quot;HY&quot;</span>)
<span class="kw">as.tibble</span>(sk_hy_all)


p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(sk_hy_all, <span class="kw">aes</span>(<span class="dt">x=</span>Ppr, <span class="dt">y=</span>z.calc, <span class="dt">group=</span>Tpr, <span class="dt">color=</span>Tpr)) +
<span class="st">    </span><span class="kw">geom_line</span>() +
<span class="st">    </span><span class="kw">geom_point</span>() +
<span class="st">    </span><span class="kw">geom_errorbar</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span>z.calc-dif, <span class="dt">ymax=</span>z.calc+dif), <span class="dt">width=</span>.<span class="dv">4</span>,
                  <span class="dt">position=</span><span class="kw">position_dodge</span>(<span class="fl">0.05</span>))
<span class="kw">print</span>(p)</code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<pre><code># A tibble: 112 x 5
     Tpr   Ppr z.chart    z.calc           dif
   &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
 1  1.05   0.5   0.829 0.8324659 -3.465859e-03
 2   1.1   0.5   0.854 0.8565046 -2.504586e-03
 3   1.2   0.5   0.893 0.8924176  5.824380e-04
 4   1.3   0.5   0.916 0.9176300 -1.630042e-03
 5   1.4   0.5   0.936 0.9359773  2.267004e-05
 6   1.5   0.5   0.948 0.9496855 -1.685473e-03
 7   1.6   0.5   0.959 0.9601420 -1.141963e-03
 8   1.7   0.5   0.968 0.9682547 -2.547035e-04
 9   1.8   0.5   0.974 0.9746397 -6.396615e-04
10   1.9   0.5   0.978 0.9797268 -1.726818e-03
# ... with 102 more rows</code></pre>
<blockquote>
<p>The greatest errors are localized in two of the Tpr curves: at 1.05 and 1.1</p>
</blockquote>
</div>
<div id="looking-numerically-at-the-errors" class="section level2">
<h2>Looking numerically at the errors</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># get all `lp` Tpr curves</span>
tpr &lt;-<span class="st"> </span><span class="kw">getCurvesDigitized</span>(<span class="dt">pprRange =</span> <span class="st">&quot;lp&quot;</span>)
ppr &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">1.5</span>, <span class="fl">2.5</span>, <span class="fl">3.5</span>, <span class="fl">4.5</span>, <span class="fl">5.5</span>, <span class="fl">6.5</span>) 

<span class="co"># calculate HY for the given Tpr</span>
all_hy &lt;-<span class="st"> </span><span class="kw">sapply</span>(ppr, function(x)  
    <span class="kw">sapply</span>(tpr, function(y) <span class="kw">z.HallYarborough</span>(<span class="dt">pres.pr =</span> x, <span class="dt">temp.pr =</span> y))) 
<span class="kw">rownames</span>(all_hy) &lt;-<span class="st"> </span>tpr 
<span class="kw">colnames</span>(all_hy) &lt;-<span class="st"> </span>ppr 
<span class="kw">cat</span>(<span class="st">&quot;Calculated Hall-Yarborough</span><span class="ch">\n</span><span class="st">&quot;</span>)
<span class="kw">print</span>(all_hy) 

<span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">Standing-Katz chart</span><span class="ch">\n</span><span class="st">&quot;</span>)
all_sk &lt;-<span class="st"> </span><span class="kw">getStandingKatzMatrix</span>(<span class="dt">ppr_vector =</span> ppr, <span class="dt">tpr_vector =</span> tpr)
all_sk

<span class="co"># find the error</span>
<span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st"> Errors in percentage </span><span class="ch">\n</span><span class="st">&quot;</span>)
all_err &lt;-<span class="st"> </span><span class="kw">round</span>((all_sk -<span class="st"> </span>all_hy) /<span class="st"> </span>all_sk *<span class="st"> </span><span class="dv">100</span>, <span class="dv">2</span>)  <span class="co"># in percentage</span>
all_err

<span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st"> Errors in Ppr</span><span class="ch">\n</span><span class="st">&quot;</span>)
<span class="kw">summary</span>(all_err)

<span class="co"># for the transposed matrix</span>
<span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st"> Errors for the transposed matrix: Tpr </span><span class="ch">\n</span><span class="st">&quot;</span>)
<span class="kw">summary</span>(<span class="kw">t</span>(all_err))</code></pre></div>
<pre><code>Calculated Hall-Yarborough
           0.5       1.5       2.5       3.5       4.5       5.5       6.5
1.05 0.8324659 0.3098781 0.3844710 0.4996188 0.6150882 0.7291019 0.8415294
1.1  0.8565046 0.4732393 0.4138513 0.5136995 0.6220391 0.7307972 0.8386698
1.2  0.8924176 0.6573432 0.5219634 0.5618489 0.6474310 0.7422294 0.8392208
1.3  0.9176300 0.7534433 0.6399020 0.6323003 0.6881127 0.7651710 0.8493794
1.4  0.9359773 0.8150776 0.7283815 0.7055289 0.7373812 0.7966250 0.8675838
1.5  0.9496855 0.8581232 0.7924067 0.7687902 0.7868071 0.8316848 0.8906351
1.6  0.9601420 0.8896536 0.8397553 0.8199247 0.8313681 0.8662332 0.9154033
1.7  0.9682547 0.9134862 0.8756412 0.8605668 0.8694525 0.8978885 0.9396353
1.8  0.9746397 0.9319159 0.9034080 0.8928899 0.9012200 0.9257004 0.9620299
1.9  0.9797268 0.9464210 0.9252586 0.9187601 0.9274661 0.9495657 0.9820058
2    0.9838234 0.9580002 0.9426939 0.9396286 0.9490995 0.9697839 0.9994317
2.2  0.9898826 0.9749827 0.9682397 0.9704880 0.9817186 1.0010767 1.0271985
2.4  0.9940087 0.9864619 0.9854735 0.9914330 1.0041800 1.0230683 1.0471657
2.6  0.9968897 0.9944394 0.9974154 1.0059591 1.0198357 1.0385156 1.0613055
2.8  0.9989416 1.0001005 1.0058539 1.0161933 1.0308488 1.0493672 1.0712016
3    1.0004261 1.0041806 1.0118999 1.0234786 1.0386327 1.0569640 1.0780237

Standing-Katz chart
       0.5   1.5   2.5   3.5   4.5   5.5   6.5
1.05 0.829 0.253 0.343 0.471 0.598 0.727 0.846
1.10 0.854 0.426 0.393 0.500 0.615 0.729 0.841
1.20 0.893 0.657 0.519 0.565 0.650 0.741 0.841
1.30 0.916 0.756 0.638 0.633 0.684 0.759 0.844
1.40 0.936 0.816 0.727 0.705 0.734 0.792 0.865
1.50 0.948 0.859 0.794 0.770 0.790 0.836 0.892
1.60 0.959 0.888 0.839 0.816 0.829 0.868 0.918
1.70 0.968 0.914 0.876 0.857 0.864 0.897 0.942
1.80 0.974 0.933 0.905 0.891 0.901 0.929 0.967
1.90 0.978 0.945 0.924 0.916 0.924 0.949 0.985
2.00 0.982 0.956 0.941 0.937 0.945 0.969 1.003
2.20 0.989 0.973 0.963 0.963 0.976 1.000 1.029
2.40 0.993 0.984 0.980 0.983 0.999 1.023 1.049
2.60 0.997 0.994 0.994 1.000 1.016 1.038 1.062
2.80 0.999 1.002 1.008 1.016 1.030 1.049 1.069
3.00 1.002 1.009 1.018 1.029 1.041 1.056 1.075

 Errors in percentage 
       0.5    1.5    2.5   3.5   4.5   5.5   6.5
1.05 -0.42 -22.48 -12.09 -6.08 -2.86 -0.29  0.53
1.10 -0.29 -11.09  -5.31 -2.74 -1.14 -0.25  0.28
1.20  0.07  -0.05  -0.57  0.56  0.40 -0.17  0.21
1.30 -0.18   0.34  -0.30  0.11 -0.60 -0.81 -0.64
1.40  0.00   0.11  -0.19 -0.08 -0.46 -0.58 -0.30
1.50 -0.18   0.10   0.20  0.16  0.40  0.52  0.15
1.60 -0.12  -0.19  -0.09 -0.48 -0.29  0.20  0.28
1.70 -0.03   0.06   0.04 -0.42 -0.63 -0.10  0.25
1.80 -0.07   0.12   0.18 -0.21 -0.02  0.36  0.51
1.90 -0.18  -0.15  -0.14 -0.30 -0.38 -0.06  0.30
2.00 -0.19  -0.21  -0.18 -0.28 -0.43 -0.08  0.36
2.20 -0.09  -0.20  -0.54 -0.78 -0.59 -0.11  0.18
2.40 -0.10  -0.25  -0.56 -0.86 -0.52 -0.01  0.17
2.60  0.01  -0.04  -0.34 -0.60 -0.38 -0.05  0.07
2.80  0.01   0.19   0.21 -0.02 -0.08 -0.04 -0.21
3.00  0.16   0.48   0.60  0.54  0.23 -0.09 -0.28

 Errors in Ppr
      0.5               1.5                2.5               3.5         
 Min.   :-0.4200   Min.   :-22.4800   Min.   :-12.090   Min.   :-6.0800  
 1st Qu.:-0.1800   1st Qu.: -0.2025   1st Qu.: -0.545   1st Qu.:-0.6450  
 Median :-0.0950   Median : -0.0450   Median : -0.185   Median :-0.2900  
 Mean   :-0.1000   Mean   : -2.0787   Mean   : -1.192   Mean   :-0.7175  
 3rd Qu.: 0.0025   3rd Qu.:  0.1125   3rd Qu.:  0.075   3rd Qu.: 0.0125  
 Max.   : 0.1600   Max.   :  0.4800   Max.   :  0.600   Max.   : 0.5600  
      4.5               5.5               6.5         
 Min.   :-2.8600   Min.   :-0.8100   Min.   :-0.6400  
 1st Qu.:-0.5925   1st Qu.:-0.1900   1st Qu.: 0.0000  
 Median :-0.4050   Median :-0.0850   Median : 0.1950  
 Mean   :-0.4594   Mean   :-0.0975   Mean   : 0.1163  
 3rd Qu.:-0.0650   3rd Qu.:-0.0325   3rd Qu.: 0.2850  
 Max.   : 0.4000   Max.   : 0.5200   Max.   : 0.5300  

 Errors for the transposed matrix: Tpr 
      1.05              1.10              1.20               1.30        
 Min.   :-22.480   Min.   :-11.090   Min.   :-0.57000   Min.   :-0.8100  
 1st Qu.: -9.085   1st Qu.: -4.025   1st Qu.:-0.11000   1st Qu.:-0.6200  
 Median : -2.860   Median : -1.140   Median : 0.07000   Median :-0.3000  
 Mean   : -6.241   Mean   : -2.934   Mean   : 0.06429   Mean   :-0.2971  
 3rd Qu.: -0.355   3rd Qu.: -0.270   3rd Qu.: 0.30500   3rd Qu.:-0.0350  
 Max.   :  0.530   Max.   :  0.280   Max.   : 0.56000   Max.   : 0.3400  
      1.40              1.50              1.60               1.70        
 Min.   :-0.5800   Min.   :-0.1800   Min.   :-0.48000   Min.   :-0.6300  
 1st Qu.:-0.3800   1st Qu.: 0.1250   1st Qu.:-0.24000   1st Qu.:-0.2600  
 Median :-0.1900   Median : 0.1600   Median :-0.12000   Median :-0.0300  
 Mean   :-0.2143   Mean   : 0.1929   Mean   :-0.09857   Mean   :-0.1186  
 3rd Qu.:-0.0400   3rd Qu.: 0.3000   3rd Qu.: 0.05500   3rd Qu.: 0.0500  
 Max.   : 0.1100   Max.   : 0.5200   Max.   : 0.28000   Max.   : 0.2500  
      1.80              1.90            2.00              2.20        
 Min.   :-0.2100   Min.   :-0.38   Min.   :-0.4300   Min.   :-0.7800  
 1st Qu.:-0.0450   1st Qu.:-0.24   1st Qu.:-0.2450   1st Qu.:-0.5650  
 Median : 0.1200   Median :-0.15   Median :-0.1900   Median :-0.2000  
 Mean   : 0.1243   Mean   :-0.13   Mean   :-0.1443   Mean   :-0.3043  
 3rd Qu.: 0.2700   3rd Qu.:-0.10   3rd Qu.:-0.1300   3rd Qu.:-0.1000  
 Max.   : 0.5100   Max.   : 0.30   Max.   : 0.3600   Max.   : 0.1800  
      2.40              2.60             2.80                3.00        
 Min.   :-0.8600   Min.   :-0.600   Min.   :-0.210000   Min.   :-0.2800  
 1st Qu.:-0.5400   1st Qu.:-0.360   1st Qu.:-0.060000   1st Qu.: 0.0350  
 Median :-0.2500   Median :-0.050   Median :-0.020000   Median : 0.2300  
 Mean   :-0.3043   Mean   :-0.190   Mean   : 0.008571   Mean   : 0.2343  
 3rd Qu.:-0.0550   3rd Qu.:-0.015   3rd Qu.: 0.100000   3rd Qu.: 0.5100  
 Max.   : 0.1700   Max.   : 0.070   Max.   : 0.210000   Max.   : 0.6000  </code></pre>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
